[build]
  # Specifies the build command for the frontend.
  command = "npm run build"

  # Directory to change to before starting the build.
  # This is relative to the root of your repository.
  base = "."

  # Directory to publish after the build process.
  # This is relative to the root of your repository.
  publish = "build"

# Configure asset optimization and settings.
[build.processing]
  # CSS optimization settings.
  # Minify CSS and generate source maps.
  css = { minify = true, sourceMap = true }

  # JavaScript optimization settings.
  # Minify JavaScript and generate source maps.
  js = { minify = true, sourceMap = true }

  # Image optimization settings.
  # Optimize images during the build process.
  # Note: Image optimization requires the 'netlify-plugin-image-optim' plugin.
  image = { optimize = true }

# Redirects configuration.
[[redirects]]
  # Redirect all requests to the index.html file for client-side routing (SPA).
  from = "/*"
  to = "/index.html"
  status = 200

# Headers configuration.
[[headers]]
  # Set Content-Security-Policy header.
  # Example: Allow scripts only from same origin and styles from 'self'.
  for = "/*"
  [headers.values]
    Content-Security-Policy = "default-src 'self'; script-src 'self'; style-src 'self'"

# Environment variables configuration.
# You can define environment variables to be available during the build process.
